// Generated by CoffeeScript 1.8.0

/**
 * Provide dimmer overlay for popup dialog boxes.
 */
var FADEOUT_DURATION_MS, addDimmer, autoResizeDimmer, removeDimmer, root, _base, _base1;

FADEOUT_DURATION_MS = 400;


/**
 * Adds the dimmer layer to the page in front of the current DOM elements
 * in <body>. Call this function before adding pop-up dialog box to DOM.
 */

addDimmer = function() {
  if ((document.getElementById('dimmer') != null)) {
    return;
  }
  $("body").append("<div id='dimmer'></div>");
  autoResizeDimmer();
  $("#dimmer").fadeIn();
  return $(window).bind("resize", autoResizeDimmer);
};


/**
 * Removes the dimmer layer. (See mutex specification below.)
 */

removeDimmer = function() {
  return $("#dimmer").fadeOut(FADEOUT_DURATION_MS, function() {
    $(window).unbind("resize", autoResizeDimmer);
    return $("#dimmer").remove();
  });
};

$.fn.mutex('set', "removeDimmer", FADEOUT_DURATION_MS / 1000);


/**
 * Resizes the dimmer layer according to the window size. (Internal call)
 */

autoResizeDimmer = function() {
  return $("#dimmer").css({
    "height": $(window).height(),
    "width": $(window).width()
  });
};

root = typeof exports !== "undefined" && exports !== null ? exports : this;

if (root.VisiStat == null) {
  root.VisiStat = {};
}

if ((_base = root.VisiStat).UI == null) {
  _base.UI = {};
}

if ((_base1 = root.VisiStat.UI).Dimmer == null) {
  _base1.Dimmer = {};
}

root.VisiStat.UI.Dimmer.addDimmer = addDimmer;

root.VisiStat.UI.Dimmer.removeDimmer = removeDimmer;

//# sourceMappingURL=dimmer.js.map
